Index: mercurial-git/doc/hgrc.5.txt
===================================================================
--- mercurial-git.orig/doc/hgrc.5.txt	2008-07-08 20:51:47.000000000 +0200
+++ mercurial-git/doc/hgrc.5.txt	2008-07-08 20:51:56.000000000 +0200
@@ -534,7 +534,7 @@
   debug;;
     Print debugging information.  True or False.  Default is False.
   editor;;
-    The editor to use during a commit.  Default is $EDITOR or "vi".
+    The editor to use during a commit.  Default is $EDITOR or "sensible-editor".
   fallbackencoding;;
     Encoding to try if it's not possible to decode the changelog using
     UTF-8.  Default is ISO-8859-1.
Index: mercurial-git/doc/ja/hg.1.ja.txt
===================================================================
--- mercurial-git.orig/doc/ja/hg.1.ja.txt	2008-07-08 20:51:47.000000000 +0200
+++ mercurial-git/doc/ja/hg.1.ja.txt	2008-07-08 20:51:56.000000000 +0200
@@ -813,7 +813,7 @@
 EDITOR::
     これは hgmerge スクリプト中で使われるエディタの名前です。もし
     HGEDITOR が設定されていなければ、コミット時のメッセージに使わ
-    れます。デフォルトは 'vi' です。
+    れます。デフォルトは 'sensible-editor' です。
 
 PYTHONPATH::
     これはインポートされるモジュールを見つけるために Python によっ
Index: mercurial-git/doc/ja/hgrc.5.ja.txt
===================================================================
--- mercurial-git.orig/doc/ja/hgrc.5.ja.txt	2008-07-08 20:51:47.000000000 +0200
+++ mercurial-git/doc/ja/hgrc.5.ja.txt	2008-07-08 20:51:56.000000000 +0200
@@ -119,7 +119,7 @@
     では False です。
   editor;;
     コミット中に使用するエディタです。デフォルトは $EDITOR か
-    "vi" です。
+    "sensible-editor" です。
   interactive;;
     ユーザに対してプロンプトを出すようにします。True か False を取
     ります。デフォルトでは True です。
Index: mercurial-git/hgeditor
===================================================================
--- mercurial-git.orig/hgeditor	2008-07-08 20:51:47.000000000 +0200
+++ mercurial-git/hgeditor	2008-07-08 20:51:56.000000000 +0200
@@ -7,7 +7,7 @@
 # only for Mercurial, modify this:
 case "${EDITOR}" in
     "")
-        EDITOR="vi"
+        EDITOR="sensible-editor"
         ;;
     emacs)
         EDITOR="$EDITOR -nw"
Index: mercurial-git/mercurial/commands.py
===================================================================
--- mercurial-git.orig/mercurial/commands.py	2008-07-08 20:51:47.000000000 +0200
+++ mercurial-git/mercurial/commands.py	2008-07-08 20:51:56.000000000 +0200
@@ -870,8 +870,8 @@
     editor = ui.geteditor()
     cmdpath = util.find_exe(editor) or util.find_exe(editor.split()[0])
     if not cmdpath:
-        if editor == 'vi':
-            ui.write(_(" No commit editor set and can't find vi in PATH\n"))
+        if editor == 'sensible-editor':
+            ui.write(_(" No commit editor set and can't find sensible-editor in PATH\n"))
             ui.write(_(" (specify a commit editor in your .hgrc file)\n"))
         else:
             ui.write(_(" Can't find editor '%s' in PATH\n") % editor)
Index: mercurial-git/mercurial/ui.py
===================================================================
--- mercurial-git.orig/mercurial/ui.py	2008-07-08 20:51:47.000000000 +0200
+++ mercurial-git/mercurial/ui.py	2008-07-08 20:51:56.000000000 +0200
@@ -483,4 +483,4 @@
         return (os.environ.get("HGEDITOR") or
                 self.config("ui", "editor") or
                 os.environ.get("VISUAL") or
-                os.environ.get("EDITOR", "vi"))
+             	os.environ.get("EDITOR", "sensible-editor"))
