Use sensible-editor as default instead of vi.

diff -r 88b335331ee3 doc/hgrc.5.txt
--- a/doc/hgrc.5.txt
+++ b/doc/hgrc.5.txt
@@ -745,7 +745,8 @@
 ``debug``
     Print debugging information. True or False. Default is False.
 ``editor``
-    The editor to use during a commit. Default is ``$EDITOR`` or ``vi``.
+    The editor to use during a commit. Default is ``$EDITOR`` or
+    ``sensible-editor``.
 ``fallbackencoding``
     Encoding to try if it's not possible to decode the changelog using
     UTF-8. Default is ISO-8859-1.
diff -r 88b335331ee3 doc/ja/hg.1.ja.txt
--- a/doc/ja/hg.1.ja.txt
+++ b/doc/ja/hg.1.ja.txt
@@ -813,7 +813,7 @@
 EDITOR::
     これは hgmerge スクリプト中で使われるエディタの名前です。もし
     HGEDITOR が設定されていなければ、コミット時のメッセージに使わ
-    れます。デフォルトは 'vi' です。
+    れます。デフォルトは 'sensible-editor' です。
 
 PYTHONPATH::
     これはインポートされるモジュールを見つけるために Python によっ
diff -r 88b335331ee3 doc/ja/hgrc.5.ja.txt
--- a/doc/ja/hgrc.5.ja.txt
+++ b/doc/ja/hgrc.5.ja.txt
@@ -119,7 +119,7 @@
     では False です。
   editor;;
     コミット中に使用するエディタです。デフォルトは $EDITOR か
-    "vi" です。
+    "sensible-editor" です。
   interactive;;
     ユーザに対してプロンプトを出すようにします。True か False を取
     ります。デフォルトでは True です。
diff -r 88b335331ee3 help/environment.txt
--- a/help/environment.txt
+++ b/help/environment.txt
@@ -69,7 +69,7 @@
     editor it uses is determined by looking at the environment
     variables HGEDITOR, VISUAL and EDITOR, in that order. The first
     non-empty one is chosen. If all of them are empty, the editor
-    defaults to 'vi'.
+    defaults to 'sensible-editor'.
 
 PYTHONPATH
     This is used by Python to find imported modules and may need to be
diff -r 88b335331ee3 hgeditor
--- a/hgeditor
+++ b/hgeditor
@@ -7,7 +7,7 @@
 # only for Mercurial, modify this:
 case "${EDITOR}" in
     "")
-        EDITOR="vi"
+        EDITOR="sensible-editor"
         ;;
     emacs)
         EDITOR="$EDITOR -nw"
diff -r 88b335331ee3 mercurial/commands.py
--- a/mercurial/commands.py
+++ b/mercurial/commands.py
@@ -1019,8 +1019,8 @@
     editor = ui.geteditor()
     cmdpath = util.find_exe(editor) or util.find_exe(editor.split()[0])
     if not cmdpath:
-        if editor == 'vi':
-            ui.write(_(" No commit editor set and can't find vi in PATH\n"))
+        if editor == 'sensible-editor':
+            ui.write(_(" No commit editor set and can't find sensible-editor in PATH\n"))
             ui.write(_(" (specify a commit editor in your .hgrc file)\n"))
         else:
             ui.write(_(" Can't find editor '%s' in PATH\n") % editor)
diff -r 88b335331ee3 mercurial/ui.py
--- a/mercurial/ui.py
+++ b/mercurial/ui.py
@@ -350,7 +350,7 @@
         return (os.environ.get("HGEDITOR") or
                 self.config("ui", "editor") or
                 os.environ.get("VISUAL") or
-                os.environ.get("EDITOR", "vi"))
+                os.environ.get("EDITOR", "sensible-editor"))
 
     def progress(self, topic, pos, item="", unit="", total=None):
         '''show a progress message
