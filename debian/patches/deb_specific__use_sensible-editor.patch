Index: mercurial-1.1.2/doc/hgrc.5.txt
===================================================================
--- mercurial-1.1.2.orig/doc/hgrc.5.txt
+++ mercurial-1.1.2/doc/hgrc.5.txt
@@ -584,7 +584,7 @@
   debug;;
     Print debugging information. True or False. Default is False.
   editor;;
-    The editor to use during a commit. Default is $EDITOR or "vi".
+    The editor to use during a commit. Default is $EDITOR or "sensible-editor".
   fallbackencoding;;
     Encoding to try if it's not possible to decode the changelog using
     UTF-8. Default is ISO-8859-1.
Index: mercurial-1.1.2/doc/ja/hg.1.ja.txt
===================================================================
--- mercurial-1.1.2.orig/doc/ja/hg.1.ja.txt
+++ mercurial-1.1.2/doc/ja/hg.1.ja.txt
@@ -813,7 +813,7 @@
 EDITOR::
     これは hgmerge スクリプト中で使われるエディタの名前です。もし
     HGEDITOR が設定されていなければ、コミット時のメッセージに使わ
-    れます。デフォルトは 'vi' です。
+    れます。デフォルトは 'sensible-editor' です。
 
 PYTHONPATH::
     これはインポートされるモジュールを見つけるために Python によっ
Index: mercurial-1.1.2/doc/ja/hgrc.5.ja.txt
===================================================================
--- mercurial-1.1.2.orig/doc/ja/hgrc.5.ja.txt
+++ mercurial-1.1.2/doc/ja/hgrc.5.ja.txt
@@ -119,7 +119,7 @@
     では False です。
   editor;;
     コミット中に使用するエディタです。デフォルトは $EDITOR か
-    "vi" です。
+    "sensible-editor" です。
   interactive;;
     ユーザに対してプロンプトを出すようにします。True か False を取
     ります。デフォルトでは True です。
Index: mercurial-1.1.2/hgeditor
===================================================================
--- mercurial-1.1.2.orig/hgeditor
+++ mercurial-1.1.2/hgeditor
@@ -7,7 +7,7 @@
 # only for Mercurial, modify this:
 case "${EDITOR}" in
     "")
-        EDITOR="vi"
+        EDITOR="sensible-editor"
         ;;
     emacs)
         EDITOR="$EDITOR -nw"
Index: mercurial-1.1.2/mercurial/commands.py
===================================================================
--- mercurial-1.1.2.orig/mercurial/commands.py
+++ mercurial-1.1.2/mercurial/commands.py
@@ -928,8 +928,8 @@
     editor = ui.geteditor()
     cmdpath = util.find_exe(editor) or util.find_exe(editor.split()[0])
     if not cmdpath:
-        if editor == 'vi':
-            ui.write(_(" No commit editor set and can't find vi in PATH\n"))
+        if editor == 'sensible-editor':
+            ui.write(_(" No commit editor set and can't find sensible-editor in PATH\n"))
             ui.write(_(" (specify a commit editor in your .hgrc file)\n"))
         else:
             ui.write(_(" Can't find editor '%s' in PATH\n") % editor)
Index: mercurial-1.1.2/mercurial/ui.py
===================================================================
--- mercurial-1.1.2.orig/mercurial/ui.py
+++ mercurial-1.1.2/mercurial/ui.py
@@ -484,4 +484,4 @@
         return (os.environ.get("HGEDITOR") or
                 self.config("ui", "editor") or
                 os.environ.get("VISUAL") or
-                os.environ.get("EDITOR", "vi"))
+             	os.environ.get("EDITOR", "sensible-editor"))
Index: mercurial-1.1.2/mercurial/help.py
===================================================================
--- mercurial-1.1.2.orig/mercurial/help.py
+++ mercurial-1.1.2/mercurial/help.py
@@ -157,7 +157,7 @@
     The editor it uses is determined by looking at the environment
     variables HGEDITOR, VISUAL and EDITOR, in that order. The first
     non-empty one is chosen. If all of them are empty, the editor
-    defaults to 'vi'.
+    defaults to 'sensible-editor'.
 
 PYTHONPATH::
     This is used by Python to find imported modules and may need to be set
